{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"tolerance.js","sourcesContent":["var app = angular.module('ToleranceApp', [])\n                  .constant('API_URL', 'http://dopusk.local/admin/api/v1/');\n\napp.controller('ToleranceAppCtrl', function($scope, $http, API_URL){\n  $http.get(API_URL + 'tolerances').success(buildGrid);\n\n  function buildGrid(responce){\n    $scope.tolerances = responce;\n    $scope.ranges = getKeys($scope.tolerances);\n    $scope.systems = getKeys($scope.tolerances[$scope.ranges[0]]);\n    $scope.qualities = getKeys($scope.tolerances[$scope.ranges[0]][$scope.systems[0]]);\n    $scope.fields = getKeys($scope.tolerances[$scope.ranges[0]][$scope.systems[0]][[$scope.qualities[0]]]);\n    $scope.cur_range = $scope.ranges[0];\n    $scope.cur_system = $scope.systems[0];\n    $scope.grid = $scope.tolerances[$scope.cur_range][$scope.cur_system];\n    console.log($scope.fields);\n    console.log($scope.grid);\n  }\n\n  function getKeys(arr) {\n    var res = [];\n    for (var key in arr) {\n      res.push(key);\n    }\n    return res;\n  }\n})\n\napp.filter('orderQualities', function(){\n  return function(items){\n    var arr = [];\n    angular.forEach(items, function(item, key){\n      arr.push({\n        name: key,\n        fields: item\n      });\n    });\n    console.log(arr);\n    arr = arr.sort(function(a,b){\n      if(a === '01'){ return -1; }\n      return (parseInt(a) < parseInt(b))? -1: 1;\n    });\n    return arr;\n  }\n});\n"],"sourceRoot":"/source/"}